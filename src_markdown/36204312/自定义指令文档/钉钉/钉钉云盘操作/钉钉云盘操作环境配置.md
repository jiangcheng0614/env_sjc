

## 需要开通的权限
+ <font style="color:rgb(213, 97, 97);background-color:rgb(246, 247, 249);">成员信息读权限</font>
+ <font style="color:rgb(213, 97, 97);background-color:rgb(246, 247, 249);">调用企业API基础权限</font>
+ **<font style="color:#DF2A3F;background-color:rgb(246, 247, 249);">企业存储文件上传信息读权限</font>**<font style="color:rgb(213, 97, 97);background-color:rgb(246, 247, 249);"> 、以应用身份获取企业存储功能的文件的上传信息（由于钉钉权限名称变动，二任选其一即可）</font>
+ <font style="color:rgb(213, 97, 97);background-color:rgb(246, 247, 249);">企业存储文件写权限</font>
+ <font style="color:rgb(213, 97, 97);background-color:rgb(246, 247, 249);">群文件发送权限</font>
+ **<font style="color:#DF2A3F;background-color:rgb(234, 235, 237);">钉钉群基础信息管理权限, 钉钉群基础信息读权限, 钉钉群管理基础信息读权限</font>**
+ **<font style="color:#DF2A3F;background-color:rgb(246, 247, 249);">企业存储文件读权限</font>**



## 创建应用
![](https://cdn.nlark.com/yuque/0/2025/jpeg/22242030/1749002721655-8a498695-9e67-4503-96da-c1fc483fc033.jpeg)

## <font style="color:rgb(31, 38, 51);">企业内部应用获取 AppKey 和 AppSecret</font>
1. <font style="color:rgb(31, 38, 51);">打开网址</font><font style="color:rgb(31, 38, 51);"> </font>[https://open.dingtalk.com/](https://open.dingtalk.com/)<font style="color:rgb(31, 38, 51);">, 登录钉钉开发者后台</font><font style="color:rgb(31, 38, 51);"> </font>![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684806483429-e9301dee-e503-4b13-87a2-1202a100fd6b.png)
2. <font style="color:rgb(31, 38, 51);">创建企业内部应用</font><font style="color:rgb(31, 38, 51);"> </font>![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684806483430-5926f932-2bff-43bf-8980-9b8eed83e424.png)
3. <font style="color:rgb(31, 38, 51);">获取 AppKey 和 AppSecret</font><font style="color:rgb(31, 38, 51);"> </font>![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684806483428-debe15c8-6fc1-42f8-b2f9-657e4bffd02f.png)



<font style="color:rgb(213, 97, 97);background-color:rgb(246, 247, 249);"></font>

**<font style="color:rgb(31, 38, 51);">注意:</font>**<font style="color:rgb(31, 38, 51);"> </font><font style="color:rgb(31, 38, 51);">请确保权限的状态处于已开通, 且在应用处于已发布的状态</font>

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684806484205-01a64435-e6b3-434e-8592-8a08f38e5e98.png)





## <font style="color:rgb(31, 38, 51);">获取用户 ID</font>
<font style="color:rgb(31, 38, 51);">打开网址</font><font style="color:rgb(31, 38, 51);"> </font>[https://oa.dingtalk.com/](https://oa.dingtalk.com/)<font style="color:rgb(31, 38, 51);"> </font><font style="color:rgb(31, 38, 51);">, 登录钉钉管理后台</font>

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684806484102-f72a8ea6-dfee-4c3e-9fd6-b481d99a3a9a.png)

  
 

## 空间ID 和 父目录ID如何获取
a.点击云盘

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684807730050-9eb31587-c66a-4c5c-b21f-ea4ebbab5733.png)

b.选择应用归属的企业

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684807779821-daba30a3-2bcb-44b7-9138-1bbeb1f88b6d.png)

c.选择上传的文件夹，点击复制链接

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684807897031-e0fe9961-f8d3-4936-881f-f483e09a360b.png)



d.第一个是空间ID 第二个是父目录 ID

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1684807963652-a2b8379b-37af-443e-8a6d-bded214a0c33.png)







## 群会话ID 如何获取
a.在钉钉开发者后台 复制CorpId

[开发者后台统一登录 - 钉钉统一身份认证](https://open-dev.dingtalk.com/?spm=ding_open_doc.header.unLogin.openDevBtn#/)

![](https://cdn.nlark.com/yuque/0/2023/jpeg/22242030/1685064757151-3fb1a3b3-82f9-4631-bcbf-74f97252bca2.jpeg)



b.点击下边链接到API调试页面

[API Explorer](https://open-dev.dingtalk.com/apiExplorer?spm=ding_open_doc.document.0.0.29b2722f5lvcqC#/jsapi?api=biz.chat.chooseConversationByCorpId)

将第一步复制的CorpId 粘贴到这里，然后点击发送调用

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1685064866040-61a3d98a-91e2-4fe8-b877-72e1ee4847e4.png)  


这个时候就会有二维码进行扫码

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1685064916543-6ca8d730-b6e0-48e1-b82e-cd19611d16eb.png)



扫码成功后再次点击发起调用

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1685064966929-412d21a7-7272-4c81-8f46-1bc344dd2884.png)



此时钉钉上会让你选择群会话

![](https://cdn.nlark.com/yuque/0/2023/jpeg/22242030/1685065016498-c14341e1-da1f-4275-980e-8cd1e203f6fc.jpeg)



选择会话后，就会返回群会话ID

![](https://cdn.nlark.com/yuque/0/2023/png/22242030/1685065106948-85e93a50-7bb4-4350-999b-652514f0d493.png)





## 
## 权限不足
1.检查一下所需要开通的权限是否开通

2.检查一下操作者（即用户ID）的钉钉在有没有权限操作指定的文件夹

3.我的文件内的内容只能由该操作者自己操作，尽量选择团队文件操作

