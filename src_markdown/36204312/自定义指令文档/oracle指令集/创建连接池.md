## <font style="background-color:rgb(236,226,254);">前言</font>
1. 无需安装oracle客户端, 通过oracledb的Thin模式直连oracle, 此模式下可以连接到 Oracle Database 12.1 或更高版本.
2. 可移植性好, 当"应用"部署到客户环境或者分享给其他人用, 无需配置oracle的连接环境即可使用.

## <font style="background-color:rgb(236,226,254);">注意事项</font>
1. oracle中， SELECT age FROM TEST 会自动成为 SELECT AGE FROM TEST 执行， 如果数据库中字段名为小写的age，正确的写法为 SELECT "age" FROM TEST, 在<font style="background-color:rgb(247,105,100);">字段名</font>两端使用<font style="background-color:rgb(247,105,100);">双引号</font>, 就会保留原来格式.
2. oracle中, <font style="background-color:rgb(247,105,100);">字段值</font>两端只能用<font style="background-color:rgb(247,105,100);">单引号</font>, 当要查询TEST表中NAME等于张三的数据, 正确的写法是SELECT * FROM TEST WHERE NAME='张三' , 不能写成SELECT * FROM TEST WHERE NAME="张三" ,因为如果使用双引号, 会被识别为字段名.

## <font style="background-color:rgb(217,245,214);">创建连接池</font>
#### 描述
创建一个数据库连接池pool, 提供给CRUD等指令使用

#### 使用示例
1.2.1 填写相关信息, 可选择创建一个全局的pool, 方便子流程使用

![](https://cdn.nlark.com/yuque/0/2023/png/12484056/1701159579513-91a85055-3fd8-4140-a54c-f4440fc2c458.png)

1.2.2 高级选项中可以修改端口, 最小连接数pool_min, 最大连接数pool_max, 增量大小pool_inc.

![](https://cdn.nlark.com/yuque/0/2023/png/12484056/1701159579459-968a8a83-63fe-4614-ad0a-7a030cc332ad.png)



## <font style="background-color:rgb(217,245,214);">连接池重连</font>
#### 描述
当任一oracle指令执行出现异常, 连接池pool会自动释放, 如果想当有oracle指令执行失败时, 继续使用连接池pool, 需要通过在异常捕获的catch里面重新创建连接池.

#### 使用示例
![](https://cdn.nlark.com/yuque/0/2023/png/12484056/1701159727647-2a1699f0-2d41-4ef1-84f3-86c122a2f838.png)



## 常见问题
#### <font style="color:rgb(231, 76, 60);">DPY-3015: password verifier type 0x939 is not supported by python-oracledb in thin mode</font>
解决方法: 重置当前用户的数据库密码

> [github-issues](https://github.com/oracle/python-oracledb/issues/246)
>

> [官方文档-DPY-3015](https://python-oracledb.readthedocs.io/en/latest/user_guide/troubleshooting.html#dpy-3015)
>

2. <font style="color:#DF2A3F;">如果使用该指令集的指令导致应用卡住</font>

<font style="color:#DF2A3F;">解决方案: 尝试使用</font>`<font style="color:#DF2A3F;">关闭连接池</font>`<font style="color:#DF2A3F;">指令</font>



